!function(t){t.fn.aweColorPicker=function(e,a){var i=this;if("string"==t.type(e)){if(i.data("color-initialized")){var n=Array.prototype.slice.call(arguments,1);switch(e){case"value":if(!n.length)return t("input[name=awe-color-picker]",i).spectrum("get");t("input[name=awe-color-picker]",i).spectrum("set",n[0]);break;default:throw Error('aweColorPicker: no such method "'+e+'"')}return i}throw Error("Error: cannot call methods on aweColorPicker prior to initialization")}var r=e.change,s=e.move,o=e.hide;return e.change=function(t){r&&r(t),i.trigger("change",t)},e.move=function(t){s&&s(t),i.trigger("change",t)},e.hide=function(t){o&&o(t),i.trigger("change",t)},t("input[name=awe-color-picker]",i).spectrum(e).click(function(e){e.preventDefault(),t(this).spectrum("toggle")}),i.data("color-initialized",1),i},t.fn.aweBorderElementInit=function(e){var a=this;t(".border-unit-spectrum",a).spectrum({preferredFormat:"hex",allowEmpty:!0,showInput:!0,appendTo:"#awe-spectrum-wrapper",change:function(e){t(".trigger-uniform",a).hasClass("enabled")?(t(".border-unit-spectrum",a).spectrum("set",e),t(".md-box",t(this).parents(".list-box")).trigger("change")):t(this).parents(".md-box").first().trigger("change")},move:function(e){t(".trigger-uniform",a).hasClass("enabled")?t("input[name=changing-color]",a).val(e.toString()).trigger("change"):t("input[name=changing-color]",t(this).parent().parent()).val(e.toString()).trigger("change")},hide:function(e){t(".trigger-uniform",a).hasClass("enabled")?t(".md-box",a).trigger("change",{isCancel:!0}):t(".md-box",a).eq(0).trigger("change",{isCancel:!0}),t(this).closest(".md-box").removeClass("hover")},beforeShow:function(){t(this).closest(".md-box").addClass("hover")}}),t("span.add",a).click(function(e){e.preventDefault();var i=parseInt(t("span.display-font",t(this).parents(".md-box")).text())+1;t(".trigger-uniform",a).hasClass("enabled")?(t("span.display-font",t(this).parents(".list-box")).text(i),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t("span.display-font",t(this).parents(".md-box")).text(i),t(this).parents(".md-box").first().trigger("change"))}),t("span.abstract",a).click(function(e){e.preventDefault();var i=parseInt(t("span.display-font",t(this).parents(".md-box")).text()),n=i-1>0?i-1:0;t(".trigger-uniform",a).hasClass("enabled")?(t("span.display-font",t(this).parents(".list-box")).text(n),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t("span.display-font",t(this).parents(".md-box")).text(n),t(this).parents(".md-box").first().trigger("change"))}),t("span.display-font",a).blur(function(){var e=JSON.parse(t(".list-border-values",t(this).parents(".list-box")).val()),i=parseInt(t(this).text());-1==t.inArray(parseInt(i),e)&&(i=e[0]),t(".trigger-uniform",a).hasClass("enabled")?(t("span.display-font",t(this).parents(".list-box")).text(i).trigger("change"),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t(this).text(i).trigger("change"),t(this).parents(".md-box").first().trigger("change"))}),t(".toggle-enable",a).click(function(e){e.preventDefault(),t(".togg-status",this).toggleClass("active"),t(".togg-status",this).hasClass("active")?t("input[name=toggle_value]",t(this)).val(1).trigger("change"):t("input[name=toggle_value]",t(this)).val(0).trigger("change")}),t("input[name=toggle_value]",a).change(function(){var e=t(this).parents(".ui-tabs-panel").attr("aria-labelledby"),a=t("> .select-tab li[aria-labelledby="+e+"]",t(this).parents(".md-tab"));parseInt(t(this).val())?(t(this).parent().addClass("active"),t(".list-box",t(this).parent().parent().parent()).show(),a.addClass("enable")):(t(this).parent().removeClass("active"),t(".list-box",t(this).parent().parent().parent()).hide(),a.removeClass("enable"))}),t(".trigger-uniform",a).click(function(){t(this).toggleClass("enabled").trigger("change")}).change(function(){t(this).hasClass("enabled")?t(this).parent().addClass("constraint"):t(this).parent().removeClass("constraint")}),t(".type-border",a).click(function(){var e=["none","solid","dotted","dashed","double"],i=t(this).text(),n=t.inArray(i,e)+1;n>=e.length&&(n=0),t(".trigger-uniform",a).hasClass("enabled")?(t("span.type-border",t(this).parents(".list-box")).text(e[n]),t(".md-box",t(this).parents(".list-box")).trigger("change")):(t(this).text(e[n]),t(this).parents(".md-box").first().trigger("change"))})},t.fn.aweSlider=function(e,a){function i(e){var a=e.toString().length;a>3?t(".display-font",s).css("font-size",parseInt(108/a)):t(".display-font",s).css("font-size","")}function n(e){var a,n=s.data("options");a=isNaN(e)||!n.allowLowerMin&&e<n.min?n.min:!n.allowGreaterMax&&e>n.max?n.max:parseInt(e),i(a),n.allowLowerMin&&t(".slider-val",s).slider("option","min")>e&&t(".slider-val",s).slider("option","min",a),n.allowGreaterMax&&t(".slider-val",s).slider("option","max")<a&&t(".slider-val",s).slider("option","max",a),t(".display-font",s).text(a),t(".slider-val",s).slider("value",a),s.trigger("change",{original:c,value:e})}function r(a,n){var r,o=JSON.parse(t("input[name=slider_values]",s).val()),l=t("span.display-font",s);t.isNumeric(o[0])&&(a=parseInt(a)),r=a,-1==t.inArray(a,o)&&(e.allowType||(r=o[0])),i(r),l.text(r),s.trigger("change",{original:n,value:r})}var s=this,o={allowType:!1,allowGreaterMax:!0,allowLowerMin:!0};if("string"==t.type(e)){if(s.data("awe-slider-initialized")){var l=Array.prototype.slice.call(arguments,1);switch(e){case"value":var d=s.data("options");l.length?"slider"==d.type?n(Number(l[0])):r(l[0]):t(".frame-display .display-font",s).text();break;default:throw Error("aweSlider: no such method: '"+e+"'")}return s}throw new Error("Error: cannot call methods on aweSlider prior to initialization")}if(e=t.extend({},o,e),"button"==e.type){if(t("span.add",t(this)).click(function(e){e.preventDefault();var a=JSON.parse(t("input[name=slider_values]",t(this).parents(".md-box")).val()),i=t("span.display-font",t(this).parents(".md-box")),n=t.isNumeric(a[0])?parseInt(i.text()):i.text(),r=t.inArray(n,a),o=r+1>=a.length?0:r+1;i.text(a[o]),s.trigger("change",{original:n,value:a[o]})}),t("span.abstract",t(this)).mousedown(function(e){e.preventDefault();var a=JSON.parse(t("input[name=slider_values]",t(this).parents(".md-box")).val()),i=t("span.display-font",t(this).parents(".md-box")),n=t.isNumeric(a[0])?parseInt(i.text()):i.text(),r=t.inArray(n,a),o=r-1>=0?r-1:a.length-1;i.text(a[o]),s.trigger("change",{original:n,value:a[o]})}),e.allowType){var c;t("span.display-font",t(this)).blur(function(){var e=t("span.display-font",t(this).parents(".md-box")).text();r(e,c)})}}else{var c;t(".slider-val",s).slider({range:"min",min:e.min,max:e.max,step:e.step,value:e["default"],start:function(t,e){c=e.value},slide:function(e,a){i(a.value),t(".display-font",t(this).parents(".md-box")).text(a.value)},stop:function(t,e){s.trigger("change",{original:c,value:e.value})}}),e.allowType&&t(".display-font",s).blur(function(){var e=(t(this).text().length,Number(t(this).text()));n(e)}).click(function(e){e.preventDefault(),c=t(".slider-val",s).slider("value")})}return s.data("awe-slider-initialized",!0).data("options",e),s},t.fn.aweBoxModelElementInit=function(){var e=this;t(".toggle-enable",e).click(function(e){e.preventDefault(),t(".togg-status",this).toggleClass("active"),t(".togg-status",this).hasClass("active")?t("input[name=toggle_value]",t(this)).val(1).trigger("change"):t("input[name=toggle_value]",t(this)).val(0).trigger("change")}),t("input[name=toggle_value]",e).change(function(){var e=t(this).parents(".ui-tabs-panel").attr("aria-labelledby"),a=t("> .select-tab li[aria-labelledby="+e+"]",t(this).parents(".md-tab"));parseInt(t(this).val())?(t(this).parent().addClass("active"),t(".list-box",t(this).parent().parent().parent()).show(),a.addClass("enable")):(t(this).parent().removeClass("active"),t(".list-box",t(this).parent().parent().parent()).hide(),a.removeClass("enable"))}),t(".trigger-uniform",e).click(function(){t(this).toggleClass("enabled").trigger("change")}).change(function(){t(this).hasClass("enabled")?t(this).parent().addClass("constraint"):t(this).parent().removeClass("constraint")}),t(".md-box:first",e).change(function(e,a){t(".trigger-uniform",t(this).parents(".list-box")).hasClass("enabled")&&t(".md-box",t(this).parents(".list-box")).not(t(this)).aweSlider("value",a.value)})},t.fn.aweCustomAnimationElementInit=function(){var e=this;this.click(function(){t(">.togg-status",e).toggleClass("active").trigger("change"),t(">.togg-status",e).hasClass("active")?(t(">.togg-status input[name=enabled_custom_animation]",e).val(1).trigger("change"),t(">.togg-status",e).next().show().trigger("click")):(t(">.togg-status",e).next().hide(),t("input[name=enabled_custom_animation]",t(">.togg-status",e)).val(0).trigger("change"),AWEContent.Panels.customAnimationsPanel.isOpenned&&AWEContent.Panels.customAnimationsPanel.closePanel())}),t("input[name=enabled_custom_animation]",this).change(function(){parseInt(t(this).val())?(t(this).parent().addClass("active"),t(this).parent().next().show()):(t(this).parent().removeClass("active"),t(this).parent().next().hide())}),t(".js-edit-animations",this).click(function(t){t.stopPropagation(),AWEContent.Panels.customAnimationsPanel.editAnimation(e)})},t.fn.aweCustomAttributesElementInit=function(){var e=this;this.click(function(){t(">.togg-status",this).toggleClass("active"),t(".togg-status",this).hasClass("active")?(t("input[name=enabled_custom_attributes]",t(".togg-status",this)).val(1).trigger("change"),t(".togg-status",this).next().show().trigger("click")):(t(".togg-status",this).next().hide(),t("input[name=enabled_custom_attributes]",t(".togg-status",this)).val(0).trigger("change"),AWEContent.Panels.customAttributesPanel.isOpenned&&AWEContent.Panels.customAttributesPanel.closePanel())}),t("input[name=enabled_custom_attributes]",this).change(function(){parseInt(t(this).val())?(t(this).parent().addClass("active"),t(this).parent().next().show(),t("input[name=attributes_data]",e).trigger("change")):(t(this).parent().removeClass("active"),t(this).parent().next().hide(),e.removeClass("enable"))}),t("input[name=attributes_data]",this).change(function(){-1!=t(this).val().indexOf("attrName")?e.addClass("enable"):e.removeClass("enable")}),t(".js-edit-attributes",this).click(function(t){t.stopPropagation(),AWEContent.Panels.customAttributesPanel.changeAttributes(e)})},t.fn.aweDragUpload=function(e){var a=this,i=this.get(0),n={uploadURL:AWEContent.Path.fileUploadURL,multiUpload:!0,allowTypes:[],extendData:{},beforeUploadCallback:function(){},dragOverCallback:function(t,e){},dragLeaveCallback:function(t,e){},dropCallback:function(t,e){},uploadSuccessCallback:function(t){},uploadFinishedCallback:function(){},uploadProgressCallback:function(){}},r=t.extend({},n,e);"draggable"in document.createElement("span")&&(i.ondragover=function(e){e.preventDefault(),t(this).addClass("awe-drag-over"),r.dragOverCallback(e,a)},i.ondragleave=function(e){e.preventDefault(),t(this).removeClass("awe-drag-over"),r.dragLeaveCallback(e,a)},i.ondrop=function(e){e.preventDefault(),t(this).removeClass("awe-drag-over"),r.dropCallback(e,a),e.dataTransfer.files.length&&(r.multiUpload?t.map(e.dataTransfer.files,function(t){AWEContent.mediaValidateFileType(t.type,r.allowTypes)&&AWEContent.ajaxUpload(t,r.extendData,r)}):AWEContent.mediaValidateFileType(e.dataTransfer.files[0].type,r.allowTypes)&&AWEContent.ajaxUpload(e.dataTransfer.files[0],r.extendData,r))})},t.fn.aweUploadElementInit=function(e){function a(e,a){var i=t('<div class="awe-item-upload">                        <div class="awe-upload-preview"></div>                        <div class="awe-upload-status">                            <i class="ic ac-icon-done"></i>                        </div>                        <div class="awe-info-progress">                            <span class="awe-upload-title"></span>                            <progress class="awe-upload-progress" min="0" max="100" value="0"></progress>                        </div>                        <input type="hidden" name="file_data" value="">                    </div>').attr("id",a),n=new FileReader;t(".awe-upload-title",i).text(e.name),t(".awe-info-upload",s).append(i),n.onload=function(e){t(".awe-upload-preview",i).append(t("<img />").attr("src",e.target.result))},n.readAsDataURL(e)}function i(e,a,i){t("progress",t("#"+i,s)).val(100)}function n(e,a,i){if(e.lengthComputable){var n=t("#"+i,s),r=e.loaded/e.total*100|0;t("progress",n).val(r)}}function r(e,a){var i=t("#"+a,s);if(1==e.status){var n=e.file;n&&(t(".awe-upload-preview img",i).attr("src",n.file_url),t(".awe-upload-status",i).addClass("finish"),t("input[name=file_data]",i).val(JSON.stringify(n)),t(".awe-info-upload",s).trigger("change"),i.trigger("click"))}else t(".awe-upload-status i",i).removeClass("ac-icon-done").addClass("ac-icon-clear").css("color","#FF0000"),i.append('<div class="awe-error-msg">File is not uploadedÂ unsuccessfully.</div>')}var s=this,o=t.extend({},e,{uploadURL:AWEContent.Path.fileUploadURL,multiUpload:s.data("multi-upload"),beforeUploadCallback:a,uploadFinishedCallback:i,uploadProgressCallback:n,uploadSuccessCallback:r});t(".upload-photo",s).aweDragUpload(o),t(".upload-photo",s).click(function(e){e.preventDefault(),t("input[name=awe_media_upload]",t(this).parents(".library")).trigger("click")}),t("input[name=awe_media_upload]",s).change(function(){for(var t=e.acceptTypes,a=s.data("multi-upload"),i=0;i<this.files.length&&(AWEContent.mediaValidateFileType(this.files[i].type,t)&&AWEContent.ajaxUpload(this.files[i],{},o),a);i++);})},t.fn.aweLibraryInit=function(){function e(){var e=t(".books-item .book-lib",a).length;a.addClass("awe-lib-loading"),t.post(i,{action:"get_upload_info",file_start:e,type:n},function(e){e&&("string"==t.type(e)&&(e=JSON.parse(e.trim())),t.each(e.files,function(){var e=this,i=t('<div class="book-lib"><i class="ic ac-icon-done"></i><img src="" alt="book"><input type="hidden" name="file_data"></div>');t("img",i).attr("src",e.libraryThumbnail),t("input",i).val(JSON.stringify(e)),t(".books-item",a).append(i)}),a.removeClass("awe-lib-loading").data("allow-load-more",e.allowed_load_more),t(".scroll-bar",a).perfectScrollbar("update"))})}var a=this,i=a.data("url"),n=a.hasClass("js-my-file")?"my-file":"library";a.data("initialized")||(e(),t(".scroll-bar",a).scroll(function(){if(a.data("allow-load-more")&&!a.hasClass("awe-lib-loading")){var i=t(".ps-scrollbar-y-rail",t(this)),n=i.height(),r=t(".ps-scrollbar-y",i),s=parseInt(r.css("top")),o=r.height();10>n-o-s&&e()}}),a.data("initialized",1))},t.fn.aweSelect=function(e,a){var i=this;if("string"==t.type(e)&&i.data("select-initialized")){var n=Array.prototype.slice.call(arguments,1);switch(e){case"value":if(!n.length)return t(".crr-item input[name=selected_value]",i).val();var r=n[0],s=t("li[data-value='"+r+"']",i);1!=s.length&&(s=t("li:first",i),r=s.attr("data-value")),t(".crr-item span.dis-change",i).text(s.html()),t(".crr-item input[name=selected_value]",i).val(r),i.trigger("change",{original:null,value:r})}return i}return i.click(function(e){e.preventDefault(),t(".content-drop",i).stop(!0).slideToggle(200)}),t("ul.content-drop",i).delegate("> li","click",function(e){e.preventDefault();var a=t("input[name=selected_value]",i),n=a.val(),r=t(this).attr("data-value");a.val(r),t("span.dis-change",i).html(t(this).html()),i.trigger("change",{original:n,value:r})}),t(document).click(function(e){t(e.target).closest(i).length||t(".content-drop",i).stop(!0).slideUp(200)}),i.data("select-initialized",1),i},t.fn.aweFont=function(e,a){function i(t){var e,a=parseInt(t),i={"font-weight":a,"font-style":""};switch(a){case 100:e="Thin";break;case 200:e="Extra-Light";break;case 300:e="Light";break;case 400:e="Normal";break;case 500:e="Medium";break;case 600:e="Semi-Bold";break;case 700:e="Bold";break;case 800:e="Extra-Bold";break;case 900:e="Ultra-Bold";break;case-1:e="Default",i["font-weight"]=""}return-1!=t.indexOf("italic")&&(e+=" Italic",i["font-style"]="italic"),{name:e,style:i}}function n(e,a){switch(e){case"fontFamily":t("span.type-font",s).text(a),s.data("font-family",a);break;case"fontStyle":o.aweSelect("value",a);break;case"textAlign":l.aweSelect("value",a);break;case"fontSize":d.aweSlider("value",a);break;case"lineHeight":c.aweSlider("value",a);break;case"letterSpacing":u.aweSlider("value",a)}}var r=this,s=t(".awe-font-family",this),o=t(".awe-font-style",this),l=t(".awe-text-align",this),d=t(".awe-font-size",this),c=t(".awe-line-spacing",this),u=t(".awe-letter-spacing",this);if("string"==t.type(e)){if(!r.data("initialized"))throw Error("Error: cannot call methods on aweFont prior to initialization");var g=e,p=Array.prototype.slice.call(arguments,1);switch(g){case"options":"object"==t.type(p[0])&&t.each(p[0],function(t,e){n(t,e)});break;default:throw Error('aweFont: no such method "'+e+'"')}return r}return s.click(function(t){t.preventDefault(),AWEContent.Panels.fontPanel.changeFont(s)}).change(function(e,a){if(a){if(!a.previewFont){n("fontFamily",a.name),t("ul.content-drop > li:not(:first)",o).remove();var s=a.fontStyles&&"string"===t.type(a.fontStyles)?a.fontStyles.split(","):[];t.each(s,function(e,a){a=i(a),t("ul.content-drop",o).append("<li data-value='"+JSON.stringify(a.style)+"'>"+a.name+"</li>")}),o.aweSelect("value",'{"font-weight":"","font-style":""}').trigger("change",{original:"",value:'{"font-weight":"","font-style":""}'})}fontName=a.name}r.trigger("fontFamilyChange",fontName)}),o.aweSelect().change(function(t,e){r.trigger("fontStyleChange",e)}),l.aweSelect().bind("change",function(t,e){r.trigger("textAlignChange",e)}),d.aweSlider({type:"slider",min:-1,max:100,step:1,allowType:!0,allowLowerMin:!1,"default":-1}).change(function(e,a){-1==a.value&&t(".frame-display .display-font",d).text("DF"),r.trigger("fontSizeChange",a)}),u.aweSlider({type:"slider",min:-1,max:20,step:1,allowLowerMin:!1,allowType:!0,"default":-1}).change(function(e,a){-1==a.value&&t(".frame-display .display-font",u).text("DF"),r.trigger("letterSpacingChange",a)}),c.aweSlider({type:"slider",min:-1,max:100,step:1,allowType:!0,allowLowerMin:!1,"default":-1}).change(function(e,a){-1==a.value&&t(".frame-display .display-font",c).text("DF"),r.trigger("lineHeightChange",a)}),r.data("initialized",1),r},t.fn.aweMediaElementInit=function(){var e=this;e.click(function(){AWEContent.Panels.mediaPanel.changeMediaFile(e,!1)}),t("span.delete-bg-img",this).click(function(a){a.stopPropagation(),t(".img-bg",e).css("background-image",""),t("input[name=selected_media]",e).val("").trigger("change")}),t("input[name=selected_media]",this).change(function(){t(this).val()?t("span.delete-bg-img",e).show():t("span.delete-bg-img",e).hide()})},t.fn.initBoxModel=function(e){function a(t){var e=t.split(" ");return e[2]||(e[2]=""),e[0]=e[0].replace("px",""),e}function i(){var i=a(e.borderTop),n=a(e.borderRight),r=a(e.borderLeft),o=a(e.borderBottom);t(".custom-border-top .border-unit-spectrum",s).spectrum("set",i[2]),t(".custom-border-top input[name=changing-color]",s).val(i[2]),t(".custom-border-top span.display-font",s).text(i[0]),t(".custom-border-top span.type-border",s).text(i[1]),t(".custom-border-right .border-unit-spectrum",s).spectrum("set",n[2]),t(".custom-border-right input[name=changing-color]",s).val(i[2]),t(".custom-border-right span.display-font",s).text(n[0]),t(".custom-border-right span.type-border",s).text(n[1]),t(".custom-border-bottom .border-unit-spectrum",s).spectrum("set",o[2]),t(".custom-border-bottom input[name=changing-color]",s).val(i[2]),t(".custom-border-bottom span.display-font",s).text(o[0]),t(".custom-border-bottom span.type-border",s).text(o[1]),t(".custom-border-left .border-unit-spectrum",s).spectrum("set",r[2]),t(".custom-border-left input[name=changing-color]",s).val(i[2]),t(".custom-border-left span.display-font",s).text(r[0]),t(".custom-border-left span.type-border",s).text(r[1]),t(".awe-border input[name=toggle_value]",s).val(e.enabledCustomBorder).trigger("change",!0),e.enabledConstraintBorder?t(".awe-border .trigger-uniform",s).addClass("enabled").trigger("change",!0):t(".awe-border .trigger-uniform",s).removeClass("enabled").trigger("change",!0)}function n(){t(".border-radius-tl span.display-font",s).text(e.borderRadiusTopLeft),t(".border-radius-tl .slider-val",s).slider("value",e.borderRadiusTopLeft),t(".border-radius-tr span.display-font",s).text(e.borderRadiusTopRight),t(".border-radius-tr .slider-val",s).slider("value",e.borderRadiusTopRight),t(".border-radius-bl span.display-font",s).text(e.borderRadiusBottomLeft),t(".border-radius-bl .slider-val",s).slider("value",e.borderRadiusBottomLeft),t(".border-radius-br span.display-font",s).text(e.borderRadiusBottomRight),t(".border-radius-br .slider-val",s).slider("value",e.borderRadiusBottomRight),t(".awe-border-radius input[name=toggle_value]",s).val(e.enabledCustomBorderRadius).trigger("change",!0),e.enabledConstraintBorderRadius?t(".awe-border-radius .trigger-uniform",s).addClass("enabled").trigger("change",!0):t(".awe-border-radius .trigger-uniform",s).removeClass("enabled").trigger("change",!0)}function r(a){var i=a;t(".custom-"+a+"-left span.display-font",s).text(e[i+"Left"]),t(".custom-"+a+"-left .slider-val",s).slider("value",e[i+"Left"]),t(".custom-"+a+"-right span.display-font",s).text(e[i+"Right"]),t(".custom-"+a+"-right .slider-val",s).slider("value",e[i+"Right"]),t(".custom-"+a+"-top span.display-font",s).text(e[i+"Top"]),t(".custom-"+a+"-top .slider-val",s).slider("value",e[i+"Top"]),t(".custom-"+a+"-bottom span.display-font",s).text(e[i+"Bottom"]),t(".custom-"+a+"-bottom .slider-val",s).slider("value",e[i+"Bottom"]),t(".awe-"+a+" input[name=toggle_value]",s).val(e["enabledCustom"+i.charAt(0).toUpperCase()+i.slice(1)]).trigger("change",!0),e["enabledConstraint"+i.charAt(0).toUpperCase()+i.slice(1)]?t(".awe-"+a+" .trigger-uniform",s).addClass("enabled").trigger("change",!0):t(".awe-"+a+" .trigger-uniform",s).removeClass("enabled").trigger("change",!0)}var s=this;i(),n(),r("padding"),r("margin")},t.fn.initBoxModelPanel=function(e,a){function i(t,e){return t.editingModel instanceof AWEContent.Models.Item?t.editingModel.get(e):t.editingModel.get("settings").get(e)}function n(e,a){var i=t("input[name=changing-color]",e).val(),n=t("span.display-font",e).text()+t("span.font-unit",e).text(),r=t("span.type-border",e).text();return a&&(i=t("input.border-unit-spectrum",e).val()),"none"!=r&&parseInt(t("span.display-font",e).text())>0?n+" "+r+" "+i:""}t(".awe-border input[name=toggle_value]",this).change(function(n,r){if(!r){var s=i(e,a);s.set("enabledCustomBorder",parseInt(t(this).val()))}}),t(".awe-border .trigger-uniform",this).change(function(n,r){if(!r){var s=i(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintBorder",1):s.set("enabledConstraintBorder",0)}}),t(".awe-border .md-box",this).change(function(r,s){var o=n(t(this),s),l=i(e,a);t(this).hasClass("custom-border-top")?l.set("borderTop",o):t(this).hasClass("custom-border-right")?l.set("borderRight",o):t(this).hasClass("custom-border-bottom")?l.set("borderBottom",o):l.set("borderLeft",o)}),t(".awe-border-radius input[name=toggle_value]",this).change(function(n,r){if(!r){var s=i(e,a);s.set("enabledCustomBorderRadius",parseInt(t(this).val()))}}),t(".awe-border-radius .trigger-uniform",this).change(function(n,r){if(!r){var s=i(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintBorderRadius",1):s.set("enabledConstraintBorderRadius",0)}}),t(".awe-border-radius .md-box",this).change(function(){var n=t("span.display-font",t(this)).text(),r=t("span.font-unit",t(this)).text(),s=i(e,a);t(this).hasClass("border-radius-tl")?s.set("borderRadiusTopLeft",n,{unit:r}):t(this).hasClass("border-radius-tr")?s.set("borderRadiusTopRight",n,{unit:r}):t(this).hasClass("border-radius-bl")?s.set("borderRadiusBottomLeft",n,{unit:r}):s.set("borderRadiusBottomRight",n,{unit:r})}),t(".awe-padding input[name=toggle_value]",this).change(function(n,r){if(!r){var s=i(e,a);s.set("enabledCustomPadding",parseInt(t(this).val()))}}),t(".awe-padding .trigger-uniform",this).change(function(n,r){if(!r){var s=i(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintPadding",1):s.set("enabledConstraintPadding",0)}}),t(".awe-padding .md-box",this).change(function(){var n=t("span.display-font",t(this)).text(),r=t("span.font-unit",t(this)).text(),s=i(e,a);t(this).hasClass("custom-padding-top")?s.set("paddingTop",n,{unit:r}):t(this).hasClass("custom-padding-right")?s.set("paddingRight",n,{unit:r}):t(this).hasClass("custom-padding-bottom")?s.set("paddingBottom",n,{unit:r}):s.set("paddingLeft",n,{unit:r})}),t(".awe-margin input[name=toggle_value]",this).change(function(n,r){if(!r){var s=i(e,a);s.set("enabledCustomMargin",parseInt(t(this).val()))}}),t(".awe-margin .trigger-uniform",this).change(function(n,r){if(!r){var s=i(e,a);t(this).hasClass("enabled")?s.set("enabledConstraintMargin",1):s.set("enabledConstraintMargin",0)}}),t(".awe-margin .md-box",this).change(function(){var n=t("span.display-font",t(this)).text(),r=t("span.font-unit",t(this)).text(),s=i(e,a);t(this).hasClass("custom-margin-top")?s.set("marginTop",n,{unit:r}):t(this).hasClass("custom-margin-right")?s.set("marginRight",n,{unit:r}):t(this).hasClass("custom-margin-bottom")?s.set("marginBottom",n,{unit:r}):s.set("marginLeft",n,{unit:r})})},t.fn.renderItemDefaultBoxModel=function(e,a){function i(t){var a=e.borderRadiusUnit,i={"border-top-left-radius":e.borderRadiusTopLeft+a,"border-top-right-radius":e.borderRadiusTopRight+a,"border-bottom-right-radius":e.borderRadiusBottomRight+a,"border-bottom-left-radius":e.borderRadiusBottomLeft+a};t.css(i)}function n(t,a){var i=t,n={},r="";e[t+"Unit"]&&(r=e[t+"Unit"]),n[i+"-left"]=e[i+"Left"]+r,n[i+"-right"]=e[i+"Right"]+r,n[i+"-top"]=e[i+"Top"]+r,n[i+"-bottom"]=e[i+"Bottom"]+r,a.css(n)}e.enabledCustomBorder&&n("border",t(this)),e.enabledCustomBorderRadius&&(i(t(this)),a&&i(a)),e.enabledCustomPadding&&n("padding",t(this)),e.enabledCustomMargin&&n("margin",t(this))},t.fn.renderChangeSettingBoxModel=function(e,a,i,n){function r(t,e){if(e){var a={borderTop:i.get("borderTop"),borderLeft:i.get("borderLeft"),borderRight:i.get("borderRight"),borderBottom:i.get("borderBottom")};return t.css(a)}return t.css("border","")}function s(t,e,a){if(e.get("enabledCustomBorderRadius")){var i=e.get("borderRadiusUnit"),n={borderTopLeftRadius:e.get("borderRadiusTopLeft")+i,borderTopRightRadius:e.get("borderRadiusTopRight")+i,borderBottomLeftRadius:e.get("borderRadiusBottomLeft")+i,borderBottomRightRadius:e.get("borderRadiusBottomRight")+i};t.css(n),a&&a.css(n)}else t.css("border-radius",""),a&&a.css("border-radius","")}function o(t,e,a){var n=i.get(e+"Unit"),r={};return r[e+"-top"]=i.get(e+"Top")+n,r[e+"-right"]=i.get(e+"Right")+n,r[e+"-left"]=i.get(e+"Left")+n,r[e+"-bottom"]=i.get(e+"Bottom")+n,a?t.css(r):t.css(e,"")}var l=0;switch(e){case"enabledCustomBorder":r(t(this),a);break;case"borderTop":case"borderRight":case"borderLeft":case"borderBottom":t(this).css(e,a);break;case"paddingTop":case"paddingRight":case"paddingLeft":case"paddingBottom":t(this).css(e,a+i.get("paddingUnit"));break;case"marginTop":case"marginRight":case"marginLeft":case"marginBottom":t(this).css(e,a+i.get("marginUnit"));break;case"borderRadiusTopLeft":case"borderRadiusTopRight":case"borderRadiusBottomLeft":case"borderRadiusBottomRight":case"enabledCustomBorderRadius":s(t(this),i,n);break;case"enabledCustomPadding":o(t(this),"padding",a);break;case"enabledCustomMargin":o(t(this),"margin",a);break;default:l=1}return l?void 0:(this.closest(".awe-section").trigger("resize"),!1)},t.fn.initAttributesPanel=function(e){t("input[name=enabled_custom_attributes]",this).change(function(a,i){i||e.editingModel.set("customEnableAttributes",parseInt(t(this).val()))}),t("input[name=enabled_custom_attributes]",this).change(function(a,i){i||e.editingModel.set("customEnableAttributes",parseInt(t(this).val()))}),t("input[name=attributes_data]",this).change(function(a,i){if(i){var n,r=e.editingModel.get("customDataAttributes"),s=[];if(t.parseJSON(r).length)switch(s=t.parseJSON(r),i.action){case"addAttr":s.push({attrName:i.data.attrName,attrValue:i.data.attrValue});break;case"updateAttr":t.each(s,function(t,e){e.attrName==i.data.attrName&&(e.attrValue=i.data.attrValue)});break;case"rmAttr":t.each(t.parseJSON(r),function(t,e){e.attrName==i.data.attrName&&s.splice(t,1)})}else s.push({attrName:i.data.attrName,attrValue:i.data.attrValue});n={newAction:i.action,newAttrName:i.data.attrName,newAttrValue:i.data.attrValue},e.editingModel.set("customActionAttributes",n),e.editingModel.set("customDataAttributes",JSON.stringify(s))}})},t.fn.initAttributes=function(e,a){t("input[name=enabled_custom_attributes]",this).val(e).trigger("change",{isPanel:!0}),t("input[name=attributes_data]",this).val(a).trigger("change")},t.fn.renderItemDefaultAttributes=function(e,a){var i=this;e&&"[]"!=a&&t.each(t.parseJSON(a),function(t,e){var a="data-"+e.attrName,n=e.attrValue;i.attr(a,n)})},t.fn.renderChangeSettingsAttributes=function(e,a,i){var n=this;if("customEnableAttributes"==e){var r=t.parseJSON(i);t.each(r,function(t,e){a?n.attr("data-"+e.attrName,e.attrValue):n.removeAttr("data-"+e.attrName)})}"customActionAttributes"==e&&("rmAttr"==a.newAction?n.removeAttr("data-"+a.newAttrName):n.attr("data-"+a.newAttrName,a.newAttrValue))},t.fn.processAnimations=function(e,a){function i(t,e){var a="";switch(t){case"floatin":a="proty-dir-"+e;break;case"flyin":a="proty-dir-distant-"+e;break;case"turnin":a="proty-dir-turn-"+e}return a}function n(t){var e="";return"none"!=t&&(e="ant-"+t),e}function r(e,a){var r,s,o="",l="";return e&&""!=e?(e=t.parseJSON(e),r=e.type,s=e.advance,o=n(r),l=i(r,s),a.removeClass(o+" "+l).css({"animation-duration":"","animation-delay":""}),"spinin"==r&&a.css({"-webkit-transform":"","-ms-transform":"","-moz-transform":"","-o-transform":"",transform:""}),!0):!1}function s(e,a){if(""!=e){if(g=t.parseJSON(e),o=g.type,l=g.duration,d=g.delay,c=g.advance,p=n(o),h=i(o,c),a.css({"animation-duration":l+"ms","animation-delay":d+"ms"}),"spinin"==o){var r=360*parseInt(c.numberOfSpin);r="clockwise"==c.direction?-r:r,r="scale(1,1) rotate("+r+"deg)",a.css({"-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r})}a.addClass(p+" "+h),a.attr({"data-animatename":p,"data-animateproperty":h})}}var o,l,d,c,u=t(this),g=e,p="",h="";a?(r(a,u),setTimeout(function(){null!=e&&s(e,u)},50)):null!=e&&s(e,u)},t.processVideo=function(t){function e(t){var e=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,a=t.match(e);return a?a[3]:""}function a(t){var e=t.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=e?e[1]:""}if(-1!=t.indexOf("youtube")){var i=a(t);return{id:i,attrVideo:"//www.youtube.com/embed/"+i+"?autoplay=0&loop=1&controls=1&showinfo=0&volume=1&enablejsapi=1",typeVideo:"youtube"}}if(-1!=t.indexOf("vimeo")){var n=e(t);return{id:n,attrVideo:"//player.vimeo.com/video/"+n+"?autoplay=0&loop=1&fullscreen=1",typeVideo:"vimeo"}}return{id:"",attrVideo:"//www.youtube.com/embed/",typeVideo:""}},t.fn.processGoogleFont=function(e,a){var i=this,n=i.parent().next();i.attr("data-font");if("none"==a)t("input",n).val("").trigger("change");else{var r=0,s="",o=0;t(".content-drop li",n).hide(),t.each(a.split(","),function(a,i){switch(i.substr(0,3)){case"100":s="thin";break;case"200":s="extra-light";break;case"300":s="light";break;case"400":s="normal",r=1;break;case"500":s="semi-bold";break;case"600":s="semi-bold";break;case"700":s="bold";break;case"800":s="extra-bold";break;case"900":s="ultra-bold";break;case"default":s="Default"}e==s&&(o=1),t(".content-drop li[data-value="+s+"]",n).show()}),s=r?"normal":s,t(".dis-change",n).text(function(){return t("input",n).val(s).trigger("change"),t(this).parent().next().find("li[data-value="+s+"]").text()})}},t.fn.aweButtonElementInit=function(){var e=this;t(".image-content, .control-image",e).click(function(){AWEContent.Panels.mediaPanel.changeMediaFile(e,!1)})},
t.fn.aweGalleryElementInit=function(){var e=this;t(".library",e).click(function(){t(".select-image",e).trigger("click")}),t(".select-image",e).click(function(){AWEContent.Panels.mediaPanel.changeMediaFile(t(this),!0)}),e.delegate(".book-lib","click",function(e){e.stopPropagation(),AWEContent.Panels.mediaPanel.changeMediaFile(t(this),!1)})},t.fn.dragImageUpload=function(e){function a(e,n){if(!e.length)return!1;var r=n.acceptTypes,s=e.pop();if(AWEContent.mediaValidateFileType(s.type,r)){var o=new FormData,l=new XMLHttpRequest;o.append("awe_media_upload",s),l.open("POST",n.url),l.onreadystatechange=function(){if(4===this.readyState){if(200===this.status){var r=t('<div class="book-lib"><i class="ic ac-icon-done"></i><img src="" alt="book"><input type="hidden" name="file_data"></div>'),s=t("#awe-media-panel-awe-media-upload"),o=t(".books-item",s),l="";try{l=t.parseJSON(this.responseText.trim())}catch(d){}if("object"==typeof l){t("img",r).attr("src",l.file_url),t("input",r).val(JSON.stringify(l));var c=-1;t.each(t("img",o),function(){var e=t(this).attr("src");e==l.file_url&&(c=t(this).closest(".book-lib").index())}),-1==c?o.prepend(r):o.prepend(t(".book-lib",o).eq(c)),i.trigger("change",{responseImage:l})}}else console.log("Upload files failed!");a(e,n)}},l.send(o)}}var i=this,n=t.optionUpload;if("draggable"in document.createElement("span")){var r=this[0];r.ondragover=function(e){t(this).addClass("dragg-over"),e.preventDefault()},r.ondragleave=function(e){t(this).removeClass("dragg-over"),e.preventDefault()},r.ondrop=function(e){e.preventDefault(),t(this).removeClass("dragg-over");var i=t.map(e.dataTransfer.files,function(t,e){return[t]});a(i,n)}}},t.fn.aweUploadImageInit=function(){var e=this;e.dragImageUpload(!1),e.change(function(a,i){i&&i.responseImage&&t("input[name=selected_media]",e).val(JSON.stringify(i)).trigger("change",{action:"drag",data:i})}),t(".controls-upload",e).click(function(t){t.preventDefault(),AWEContent.Panels.mediaPanel.changeMediaFile(e,!1)}),t(".image-content",e).change(function(){""!=t(this).attr("src")?t(this).next().addClass("active"):t(this).next().removeClass("active")}),t(".remove-image",e).click(function(){t(this).removeClass("active"),t(this).prev().attr("src",""),t(this).parent().next().val("").trigger("change",{action:"remove"})})},t.fn.aweSlideImageInit=function(){var e=this;t(".slide-image-controls .nav-prev",e).click(function(){var e,a=t(this).parent().next(),i=parseInt(a.val());e=0==i?3:i-1,a.val(e).trigger("change")}),t(".slide-image-controls .nav-next",e).click(function(){var e,a=t(this).parent().next(),i=parseInt(a.val());e=3==i?0:i+1,a.val(e).trigger("change")})},t.fn.defaultResponsive=function(t){t.lgResponsive||this.addClass("lg-hidden"),t.xsResponsive||this.addClass("xs-hidden"),t.smResponsive||this.addClass("sm-hidden"),t.mediumResponsive||this.addClass("md-hidden")},t.fn.changeResponsive=function(t,e){var a=this,i=0;switch(t){case"lgResponsive":e?a.removeClass("lg-hidden"):a.addClass("lg-hidden");break;case"mediumResponsive":e?a.removeClass("md-hidden"):a.addClass("md-hidden");break;case"smResponsive":e?a.removeClass("sm-hidden"):a.addClass("sm-hidden");break;case"xsResponsive":e?a.removeClass("xs-hidden"):a.addClass("xs-hidden");break;default:i=1}return i?void 0:!1},t.renderFontWeight=function(t){var e="";switch(t){case"thin":e="100";break;case"extra-light":e="200";break;case"light":e="300";break;case"normal":e="400";break;case"medium":e="500";break;case"semi-bold":e="600";break;case"bold":e="700";break;case"extra-bold":e="800";break;case"ultra-bold":e="900";break;default:e=""}return e},t.jsonParse=function(e){throw"string"!=t.type(e),new Error("Parameter is not a string. You must past json string to parse it.")},t.imageLoaded=function(t,e){function a(){if(!s){if(i>=n)return e({err:"timeout"}),void(s=!0);if(r&&o.complete)return o.width&&o.height?(e({img:o}),void(s=!0)):(e({err:"404"}),void(s=!0));o.complete&&(r=!0),i++,e.tryImage=setTimeout(a,1e3)}}var i=0,n=10,r=!1,s=!1;t.maxSeconds&&(n=t.maxSeconds);var o=new Image;o.onload=a(),o.src=t.src,a()},t.fn.aweImageURL=function(e){var a=this,i={fid:[],styles:[],success:function(t,e,a,i){}},n="none",r="";e=t.extend(i,e),e.styles.length&&(n=e.styles.join(",")),e.fid.length&&(r=e.fid.join(",")),"-1"!=r?(t.post(AWEContent.Path.imageStyleURL,{fids:r,styles:n},function(t){a.trigger("getImageURLSuccess",t)}),a.bind("getImageURLSuccess",function(t,i){e.success(a,e.fid,e.styles,i),a.unbind("getImageURLSuccess")})):e.success(a,e.fid,e.styles,{})}}(jQuery);